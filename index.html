<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Perceptrón Simple Función Escalón - Interactivo</title>
<script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
<style>
body { 
  font-family: Arial, sans-serif; 
  margin: 0; 
  background: linear-gradient(135deg, #f0f4ff 0%, #e0e7ff 100%);
  min-height: 100vh;
}
.main-container {
  max-width: 900px;
  margin: 40px auto 0 auto;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(60,60,120,0.12);
  padding: 32px 32px 24px 32px;
}
h1 {
  text-align: center;
  color: #2d3a6b;
  margin-bottom: 30px;
  letter-spacing: 1px;
}
.tab {
  overflow: hidden; 
  border-bottom: 1px solid #bfc7e0; 
  display: flex; 
  justify-content: center;
  background: #e7eaff;
  border-radius: 10px 10px 0 0;
}
.tab button { 
  background-color: inherit; 
  border: none; 
  outline: none; 
  cursor: pointer; 
  padding: 12px 28px; 
  transition: 0.3s; 
  font-size: 1.08em;
  color: #2d3a6b;
  border-radius: 10px 10px 0 0;
}
.tab button:hover { background-color: #d6dbfa; }
.tab button.active { background-color: #bfc7e0; color: #1a2240; }
.tabcontent { 
  display: none; 
  padding: 18px 0 0 0; 
  text-align: center;
}
.plot-container { 
  width: 700px; 
  height: 600px; 
  margin: 0 auto 18px auto; 
  border-radius: 12px;
  background: #f7f9ff;
  box-shadow: 0 2px 12px rgba(60,60,120,0.07);
}
.controls { 
  margin-bottom: 18px; 
  display: flex; 
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 18px;
}
.controls label, .controls input, .controls select, .controls button {
  font-size: 1em;
}
.controls input[type="range"] {
  width: 180px;
}
#tabContents {
  margin-top: 0;
}
#tabContents h2 {
  color: #2d3a6b;
  margin-bottom: 10px;
}
#tabContents .controls button {
  background: #2d3a6b;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 6px 16px;
  margin-left: 10px;
  cursor: pointer;
  transition: background 0.2s;
}
#tabContents .controls button:hover {
  background: #4b5ca7;
}
#tabContents #info {
  margin-top: 10px;
}
span[style*="color:red"] {
  font-size: 1.08em;
}
@media (max-width: 800px) {
  .plot-container { width: 98vw; height: 60vw; min-width: 0; }
  .main-container { padding: 8px; }
}
</style>
</head>
<body>
<div class="main-container">
<h1>Perceptrón Simple Función Escalón - Interactivo</h1>
<div class="tab" id="tabButtons"></div>
<div id="tabContents"></div>
<div class="tabcontent" id="playgroundTab" style="display:none;">
  <h2>Jugar con el hiperplano</h2>
<div class="controls">
  <label>Dataset:
    <select id="play_dataset">
      <option value="Dataset1">Dataset 1</option>
      <option value="Dataset2">Dataset 2</option>
      <option value="Dataset3">Dataset 3</option>
      <option value="Dataset4">Dataset 4</option>
    </select>
  </label>
  <label>w₁: <input type="range" id="play_w1" min="-2" max="2" step="0.01" value="1"></label>
  <label>w₂: <input type="range" id="play_w2" min="-2" max="2" step="0.01" value="1"></label>
  <label>b: <input type="range" id="play_b" min="-10" max="10" step="0.01" value="0"></label>
  <label>Vector w:
  <select id="play_wmode">
    <option value="normal">Normal a la recta</option>
    <option value="origen">Desde el origen</option>
  </select>
</label>
  <span id="play_values"></span>
</div>
  <div id="play_plot" class="plot-container"></div>
  <div style="margin-top:10px;color:#2d3a6b;">
    <b>Arrastra los deslizadores para ver cómo cambian el hiperplano y el vector w.</b>
  </div>
</div>
</div>
<script>
// =================== DATOS EMBEBIDOS ===================
const datasets = 
// Pega aquí el contenido de tu JSON, solo el objeto, sin comentarios ni llaves extra
{
  "Dataset1": {
    "con": [
      {
        "pesos": [
          [
            0.17576000000000003,
            0.33190000000000003
          ],
          [
            -0.37566,
            -0.06672
          ],
          [
            -0.09205999999999998,
            0.69872
          ],
          [
            -0.8799000000000001,
            0.47808
          ],
          [
            -0.6417600000000001,
            0.80042
          ],
          [
            -1.1931800000000001,
            0.4018
          ],
          [
            -1.01742,
            0.7337
          ]
        ],
        "sesgos": [
          0.2,
          0.0,
          0.2,
          0.0,
          0.2,
          0.0,
          0.2
        ],
        "errores": [
          6.0,
          5.0,
          6.0,
          1.0,
          1.0,
          3.0,
          0.0
        ],
        "w_best": [
          -1.01742,
          0.7337
        ],
        "b_best": 0.2,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.017576,
            0.03319
          ],
          [
            -0.006568000000000001,
            0.020943999999999997
          ],
          [
            -0.07616600000000001,
            -0.019020000000000002
          ],
          [
            -0.05227400000000001,
            0.059984
          ]
        ],
        "sesgos": [
          0.02,
          0.0,
          -0.02,
          0.0
        ],
        "errores": [
          6.0,
          4.0,
          5.0,
          0.0
        ],
        "w_best": [
          -0.05227400000000001,
          0.059984
        ],
        "b_best": 0.0,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.0017576,
            0.003319
          ],
          [
            0.0008049999999999999,
            0.0031149999999999997
          ],
          [
            -0.0061548,
            -0.0008814000000000001
          ],
          [
            -0.0037656,
            0.007019
          ],
          [
            -0.0092798,
            0.0030327999999999996
          ],
          [
            -0.006890599999999999,
            0.0109332
          ],
          [
            -0.012404799999999999,
            0.006947
          ],
          [
            -0.010647199999999999,
            0.010266
          ]
        ],
        "sesgos": [
          0.002,
          0.0,
          -0.002,
          0.0,
          -0.002,
          0.0,
          -0.002,
          0.0
        ],
        "errores": [
          6.0,
          6.0,
          5.0,
          3.0,
          4.0,
          1.0,
          2.0,
          0.0
        ],
        "w_best": [
          -0.010647199999999999,
          0.010266
        ],
        "b_best": 0.0,
        "error_best": 0
      }
    ],
    "sin": [
      {
        "pesos": [
          [
            0.23814000000000002,
            0.32234
          ],
          [
            -0.0032999999999999974,
            0.19988
          ],
          [
            -0.24474,
            0.07742
          ],
          [
            -0.006599999999999995,
            0.39976
          ],
          [
            -0.24804,
            0.2773
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          6.0,
          3.0,
          6.0,
          0.0
        ],
        "w_best": [
          -0.24804,
          0.2773
        ],
        "b_best": 0.0,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.02836,
            0.076544
          ],
          [
            -0.04123800000000001,
            0.03658
          ]
        ],
        "sesgos": [
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          0.0
        ],
        "w_best": [
          -0.04123800000000001,
          0.03658
        ],
        "b_best": 0.0,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.0023814,
            0.0032234
          ],
          [
            -0.005497,
            0.0010170000000000001
          ],
          [
            -0.002661,
            0.008671400000000001
          ],
          [
            -0.012086000000000001,
            0.0030382000000000004
          ],
          [
            -0.0097046,
            0.006261600000000001
          ],
          [
            -0.0073232,
            0.009485
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          4.0,
          4.0,
          4.0,
          1.0,
          0.0
        ],
        "w_best": [
          -0.0073232,
          0.009485
        ],
        "b_best": 0.0,
        "error_best": 0
      }
    ]
  },
  "Dataset2": {
    "con": [
      {
        "pesos": [
          [
            0.17576000000000003,
            0.7319
          ],
          [
            -0.6120800000000001,
            0.11125999999999991
          ],
          [
            -0.37394000000000005,
            0.8335999999999999
          ],
          [
            -1.31644,
            -0.12972000000000017
          ],
          [
            -1.1406800000000001,
            0.6021799999999998
          ],
          [
            -1.3821200000000002,
            0.07971999999999979
          ],
          [
            -1.1439800000000002,
            0.8020599999999998
          ],
          [
            -1.6954000000000002,
            0.0034399999999996655
          ],
          [
            -1.4118000000000002,
            1.1688799999999997
          ],
          [
            -1.50706,
            0.7484799999999997
          ],
          [
            -1.6023200000000002,
            0.3280799999999997
          ],
          [
            -1.3187200000000001,
            1.4935199999999997
          ],
          [
            -1.41398,
            1.0731199999999999
          ],
          [
            -1.6554200000000001,
            0.5506599999999998
          ]
        ],
        "sesgos": [
          0.2,
          0.0,
          0.2,
          0.0,
          0.2,
          0.0,
          0.2,
          0.0,
          0.2,
          0.0,
          -0.2,
          0.0,
          -0.2,
          -0.4
        ],
        "errores": [
          6.0,
          4.0,
          6.0,
          5.0,
          2.0,
          4.0,
          3.0,
          5.0,
          3.0,
          2.0,
          4.0,
          5.0,
          3.0,
          1.0
        ],
        "w_best": [
          -1.6554200000000001,
          0.5506599999999998
        ],
        "b_best": -0.4,
        "error_best": 1.0
      },
      {
        "pesos": [
          [
            0.02836,
            0.11654400000000001
          ],
          [
            0.0042159999999999975,
            0.06429800000000001
          ],
          [
            -0.07456800000000001,
            0.002234
          ],
          [
            -0.05075400000000001,
            0.074468
          ],
          [
            -0.105896,
            -0.005393999999999996
          ],
          [
            -0.07753600000000001,
            0.11115000000000001
          ],
          [
            -0.15632000000000001,
            0.049086000000000005
          ],
          [
            -0.16584600000000002,
            0.007046000000000004
          ],
          [
            -0.14827,
            0.080236
          ],
          [
            -0.15779600000000002,
            0.038196
          ],
          [
            -0.12943600000000002,
            0.15474000000000002
          ],
          [
            -0.19903400000000004,
            0.07477600000000001
          ],
          [
            -0.17522000000000004,
            0.14701000000000003
          ],
          [
            -0.19936400000000004,
            0.09476400000000003
          ]
        ],
        "sesgos": [
          0.02,
          0.0,
          -0.02,
          0.0,
          -0.02,
          0.0,
          -0.02,
          -0.04,
          -0.02,
          -0.04,
          -0.02,
          -0.04,
          -0.02,
          -0.04
        ],
        "errores": [
          6.0,
          6.0,
          5.0,
          6.0,
          5.0,
          6.0,
          2.0,
          5.0,
          2.0,
          4.0,
          5.0,
          2.0,
          3.0,
          1.0
        ],
        "w_best": [
          -0.19936400000000004,
          0.09476400000000003
        ],
        "b_best": -0.04,
        "error_best": 1.0
      },
      {
        "pesos": [
          [
            0.0023814,
            0.0072234
          ],
          [
            -0.0045784,
            -0.0007730000000000011
          ],
          [
            -0.0028208,
            0.006545999999999999
          ],
          [
            -0.008334999999999999,
            -0.0014402000000000017
          ],
          [
            -0.005498999999999999,
            0.0102142
          ],
          [
            -0.0079134,
            0.0049896
          ],
          [
            -0.0103278,
            -0.0002349999999999991
          ],
          [
            -0.0074918,
            0.011419400000000001
          ],
          [
            -0.0099062,
            0.006194800000000002
          ],
          [
            -0.0108588,
            0.0019908000000000026
          ],
          [
            -0.0091012,
            0.009309800000000003
          ],
          [
            -0.0115156,
            0.004085200000000004
          ]
        ],
        "sesgos": [
          0.002,
          0.0,
          0.002,
          0.0,
          0.002,
          0.0,
          -0.002,
          0.0,
          -0.002,
          -0.004,
          -0.002,
          -0.004
        ],
        "errores": [
          6.0,
          5.0,
          6.0,
          5.0,
          6.0,
          2.0,
          5.0,
          6.0,
          2.0,
          4.0,
          4.0,
          1.0
        ],
        "w_best": [
          -0.0115156,
          0.004085200000000004
        ],
        "b_best": -0.004,
        "error_best": 1.0
      }
    ],
    "sin": [
      {
        "pesos": [
          [
            0.23892000000000002,
            1.19004
          ],
          [
            0.14366,
            0.76964
          ],
          [
            -0.09778,
            0.24717999999999996
          ],
          [
            -0.8856200000000001,
            -0.3734600000000001
          ],
          [
            -0.6467,
            0.8165799999999999
          ],
          [
            -1.5892000000000002,
            -0.1467400000000002
          ],
          [
            -1.3502800000000001,
            1.0433
          ],
          [
            -1.4455400000000003,
            0.6228999999999999
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          6.0,
          6.0,
          5.0,
          5.0,
          5.0,
          3.0,
          1.0
        ],
        "w_best": [
          -1.4455400000000003,
          0.6228999999999999
        ],
        "b_best": 0.0,
        "error_best": 1.0
      },
      {
        "pesos": [
          [
            0.017576,
            0.07319
          ],
          [
            -0.006568000000000001,
            0.020944000000000004
          ],
          [
            -0.07616600000000001,
            -0.05902
          ],
          [
            -0.07210200000000001,
            0.019395999999999997
          ],
          [
            -0.04828800000000001,
            0.09163
          ],
          [
            -0.12707200000000002,
            0.029565999999999995
          ],
          [
            -0.10949600000000001,
            0.102756
          ],
          [
            -0.17909400000000003,
            0.022791999999999993
          ],
          [
            -0.16151800000000002,
            0.095982
          ],
          [
            -0.18566200000000002,
            0.043736
          ],
          [
            -0.16184800000000002,
            0.11597
          ],
          [
            -0.21699000000000002,
            0.036108
          ],
          [
            -0.19309800000000002,
            0.155112
          ],
          [
            -0.20262400000000003,
            0.113072
          ],
          [
            -0.21215000000000003,
            0.07103200000000001
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          6.0,
          5.0,
          2.0,
          6.0,
          4.0,
          4.0,
          4.0,
          2.0,
          4.0,
          3.0,
          4.0,
          3.0,
          2.0,
          1.0
        ],
        "w_best": [
          -0.21215000000000003,
          0.07103200000000001
        ],
        "b_best": 0.0,
        "error_best": 1.0
      },
      {
        "pesos": [
          [
            0.0023892,
            0.0119004
          ],
          [
            -2.5199999999999962e-05,
            0.006675800000000001
          ],
          [
            -0.006985,
            -0.0013206
          ],
          [
            -0.0052274,
            0.0059984
          ],
          [
            -0.0121872,
            -0.0019980000000000006
          ],
          [
            -0.0093512,
            0.009656399999999999
          ],
          [
            -0.0148654,
            0.0016701999999999984
          ],
          [
            -0.0124762,
            0.013570599999999999
          ],
          [
            -0.019436000000000002,
            0.005574199999999998
          ],
          [
            -0.017054600000000003,
            0.012797599999999998
          ],
          [
            -0.019469000000000004,
            0.007572999999999998
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          6.0,
          5.0,
          5.0,
          5.0,
          5.0,
          4.0,
          5.0,
          2.0,
          3.0,
          1.0
        ],
        "w_best": [
          -0.019469000000000004,
          0.007572999999999998
        ],
        "b_best": 0.0,
        "error_best": 1.0
      }
    ]
  },
  "Dataset3": {
    "con": [
      {
        "pesos": [
          [
            0.5836,
            1.3654400000000002
          ],
          [
            -0.41237999999999997,
            0.36580000000000024
          ],
          [
            -1.2638,
            -0.6328199999999998
          ],
          [
            -0.7248800000000001,
            0.7572200000000001
          ],
          [
            -1.5763000000000003,
            -0.24139999999999995
          ],
          [
            -1.2356600000000002,
            0.7427600000000001
          ]
        ],
        "sesgos": [
          0.2,
          0.0,
          -0.2,
          0.0,
          -0.2,
          0.0
        ],
        "errores": [
          6.0,
          3.0,
          5.0,
          4.0,
          5.0,
          0.0
        ],
        "w_best": [
          -1.2356600000000002,
          0.7427600000000001
        ],
        "b_best": 0.0,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.053891999999999995,
            0.139004
          ],
          [
            -0.07035800000000002,
            0.022671999999999984
          ],
          [
            -0.022782000000000018,
            0.11586199999999999
          ],
          [
            -0.07692600000000002,
            0.04361599999999999
          ]
        ],
        "sesgos": [
          0.02,
          0.0,
          0.02,
          0.0
        ],
        "errores": [
          6.0,
          5.0,
          6.0,
          1.0
        ],
        "w_best": [
          -0.07692600000000002,
          0.04361599999999999
        ],
        "b_best": 0.0,
        "error_best": 1.0
      },
      {
        "pesos": [
          [
            0.005836,
            0.0136544
          ],
          [
            -0.006589,
            0.002021199999999999
          ],
          [
            -0.0011998,
            0.0159216
          ],
          [
            -0.011159599999999999,
            0.005925200000000002
          ],
          [
            -0.005778199999999998,
            0.015148600000000002
          ],
          [
            -0.009730799999999998,
            0.008944600000000002
          ],
          [
            -0.013683399999999998,
            0.0027406000000000028
          ],
          [
            -0.008925799999999998,
            0.012059600000000004
          ],
          [
            -0.021350799999999996,
            0.0004264000000000021
          ],
          [
            -0.016593199999999995,
            0.009745400000000003
          ]
        ],
        "sesgos": [
          0.002,
          0.0,
          0.002,
          0.0,
          0.002,
          0.0,
          -0.002,
          0.0,
          -0.002,
          0.0
        ],
        "errores": [
          6.0,
          5.0,
          6.0,
          1.0,
          6.0,
          3.0,
          5.0,
          6.0,
          5.0,
          0.0
        ],
        "w_best": [
          -0.016593199999999995,
          0.009745400000000003
        ],
        "b_best": 0.0,
        "error_best": 0
      }
    ],
    "sin": [
      {
        "pesos": [
          [
            0.5836,
            1.3654400000000002
          ],
          [
            0.18834,
            0.7450400000000001
          ],
          [
            -0.3531,
            0.022580000000000156
          ],
          [
            0.23049999999999998,
            1.3880200000000005
          ],
          [
            -0.16476000000000002,
            0.7676200000000004
          ],
          [
            -1.16074,
            -0.23201999999999956
          ],
          [
            -0.6218200000000002,
            1.1580200000000005
          ],
          [
            -1.47324,
            0.15940000000000043
          ],
          [
            -0.9974800000000001,
            1.0913000000000006
          ],
          [
            -2.23998,
            -0.07201999999999953
          ],
          [
            -1.7642200000000001,
            0.8598800000000006
          ],
          [
            -1.2884600000000002,
            1.7917800000000008
          ],
          [
            -2.5309600000000003,
            0.6284600000000007
          ],
          [
            -1.9920400000000003,
            2.0185000000000004
          ],
          [
            -2.3873,
            1.3981000000000003
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          6.0,
          5.0,
          6.0,
          6.0,
          5.0,
          6.0,
          5.0,
          5.0,
          5.0,
          2.0,
          6.0,
          5.0,
          4.0,
          0.0
        ],
        "w_best": [
          -2.3873,
          1.3981000000000003
        ],
        "b_best": 0.0,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.05836,
            0.136544
          ],
          [
            0.018834000000000004,
            0.074504
          ],
          [
            -0.08994999999999999,
            -0.007560000000000011
          ],
          [
            -0.03605799999999999,
            0.13144399999999998
          ],
          [
            -0.09020199999999999,
            0.05919799999999997
          ],
          [
            -0.12972799999999998,
            -0.002842000000000025
          ],
          [
            -0.07136799999999999,
            0.133702
          ],
          [
            -0.12551199999999998,
            0.06145599999999998
          ],
          [
            -0.07169799999999998,
            0.15369
          ],
          [
            -0.17129599999999998,
            0.053725999999999996
          ],
          [
            -0.11293599999999998,
            0.19027
          ],
          [
            -0.16707999999999998,
            0.11802399999999999
          ],
          [
            -0.20660599999999998,
            0.05598399999999999
          ],
          [
            -0.152714,
            0.194988
          ],
          [
            -0.206858,
            0.12274199999999999
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          6.0,
          5.0,
          6.0,
          1.0,
          5.0,
          6.0,
          2.0,
          6.0,
          5.0,
          6.0,
          1.0,
          5.0,
          5.0,
          0.0
        ],
        "w_best": [
          -0.206858,
          0.12274199999999999
        ],
        "b_best": 0.0,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.0047576,
            0.009319000000000001
          ],
          [
            0.0008050000000000002,
            0.0031150000000000014
          ],
          [
            -0.007709200000000001,
            -0.006871199999999999
          ],
          [
            -0.0023278000000000005,
            0.0023522000000000005
          ],
          [
            -0.010842000000000001,
            -0.007634
          ],
          [
            -0.005452800000000001,
            0.0062664
          ],
          [
            -0.0108672,
            -0.0009581999999999993
          ],
          [
            -0.005478,
            0.012942200000000001
          ],
          [
            -0.0108924,
            0.0057176000000000015
          ],
          [
            -0.005510999999999999,
            0.014941000000000001
          ],
          [
            -0.017936,
            0.0033077999999999996
          ],
          [
            -0.0121,
            0.0169622
          ],
          [
            -0.024524999999999998,
            0.005328999999999999
          ],
          [
            -0.019135799999999998,
            0.0192294
          ],
          [
            -0.02765,
            0.0092432
          ],
          [
            -0.0222608,
            0.0231436
          ],
          [
            -0.030775000000000004,
            0.0131574
          ],
          [
            -0.025393600000000002,
            0.0223808
          ],
          [
            -0.0339078,
            0.012394599999999999
          ],
          [
            -0.0280718,
            0.026049
          ],
          [
            -0.0334862,
            0.018824399999999998
          ],
          [
            -0.0281048,
            0.028047799999999998
          ],
          [
            -0.0335192,
            0.0208232
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          6.0,
          5.0,
          4.0,
          5.0,
          5.0,
          5.0,
          6.0,
          1.0,
          6.0,
          5.0,
          6.0,
          5.0,
          4.0,
          5.0,
          4.0,
          2.0,
          3.0,
          4.0,
          3.0,
          1.0,
          4.0,
          0.0
        ],
        "w_best": [
          -0.0335192,
          0.0208232
        ],
        "b_best": 0.0,
        "error_best": 0
      }
    ]
  },
  "Dataset4": {
    "con": [
      {
        "pesos": [
          [
            0.53892,
            1.19004
          ],
          [
            -0.45706,
            0.7904
          ],
          [
            -0.9985,
            0.26793999999999996
          ],
          [
            -0.65786,
            1.0520999999999998
          ],
          [
            -1.1993,
            0.5296399999999998
          ],
          [
            -0.7235400000000001,
            1.2615399999999997
          ],
          [
            -1.26498,
            0.7390799999999996
          ],
          [
            -0.7268399999999999,
            1.4614199999999995
          ],
          [
            -1.1220999999999999,
            1.0410199999999996
          ]
        ],
        "sesgos": [
          0.2,
          0.0,
          -0.2,
          0.0,
          -0.2,
          0.0,
          -0.2,
          0.0,
          -0.2
        ],
        "errores": [
          6.0,
          2.0,
          5.0,
          2.0,
          5.0,
          2.0,
          2.0,
          2.0,
          0.0
        ],
        "w_best": [
          -1.1220999999999999,
          1.0410199999999996
        ],
        "b_best": -0.2,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.034064000000000004,
            0.078416
          ],
          [
            -0.07471999999999998,
            0.076352
          ],
          [
            -0.11424599999999999,
            0.034312
          ],
          [
            -0.06035399999999999,
            0.153316
          ],
          [
            -0.15995199999999998,
            0.11335200000000001
          ],
          [
            -0.10613799999999998,
            0.18558600000000003
          ],
          [
            -0.145664,
            0.14354600000000003
          ]
        ],
        "sesgos": [
          0.02,
          0.0,
          -0.02,
          0.0,
          -0.02,
          0.0,
          -0.02
        ],
        "errores": [
          6.0,
          1.0,
          5.0,
          4.0,
          1.0,
          2.0,
          0.0
        ],
        "w_best": [
          -0.145664,
          0.14354600000000003
        ],
        "b_best": -0.02,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.0053892,
            0.0119004
          ],
          [
            -0.0054892,
            0.011694
          ],
          [
            -0.0094418,
            0.00749
          ],
          [
            -0.0040604,
            0.0147134
          ],
          [
            -0.0140202,
            0.010717
          ],
          [
            -0.008638799999999999,
            0.017940400000000002
          ],
          [
            -0.014053199999999998,
            0.012715800000000003
          ]
        ],
        "sesgos": [
          0.002,
          0.0,
          -0.002,
          0.0,
          -0.002,
          0.0,
          -0.002
        ],
        "errores": [
          6.0,
          2.0,
          1.0,
          5.0,
          1.0,
          2.0,
          0.0
        ],
        "w_best": [
          -0.014053199999999998,
          0.012715800000000003
        ],
        "b_best": -0.002,
        "error_best": 0
      }
    ],
    "sin": [
      {
        "pesos": [
          [
            0.34064000000000005,
            0.78416
          ],
          [
            -0.9018600000000001,
            0.42083999999999994
          ],
          [
            -0.4261000000000001,
            1.1527399999999999
          ],
          [
            -1.2775200000000002,
            0.7541199999999999
          ],
          [
            -0.8017600000000003,
            1.48602
          ],
          [
            -1.3432000000000004,
            0.9635599999999999
          ],
          [
            -0.8050600000000003,
            1.6858999999999997
          ],
          [
            -1.2003200000000003,
            1.2654999999999998
          ],
          [
            -1.5955800000000002,
            0.8450999999999999
          ],
          [
            -1.0574400000000002,
            1.56744
          ],
          [
            -1.4527,
            1.14704
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          3.0,
          4.0,
          2.0,
          2.0,
          1.0,
          2.0,
          2.0,
          2.0,
          2.0,
          0.0
        ],
        "w_best": [
          -1.4527,
          1.14704
        ],
        "b_best": 0.0,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.047576,
            0.07319
          ],
          [
            -0.05202199999999999,
            0.033226000000000006
          ],
          [
            0.0017920000000000089,
            0.10546000000000001
          ],
          [
            -0.09780599999999998,
            0.06549600000000001
          ],
          [
            -0.043991999999999976,
            0.13773000000000002
          ],
          [
            -0.08351799999999998,
            0.09569000000000003
          ],
          [
            -0.13766199999999998,
            0.043444000000000024
          ],
          [
            -0.10359799999999997,
            0.12186000000000002
          ],
          [
            -0.15774199999999997,
            0.06961400000000002
          ],
          [
            -0.10392799999999996,
            0.14184800000000003
          ],
          [
            -0.14345399999999997,
            0.09980800000000004
          ],
          [
            -0.08963999999999997,
            0.17204200000000003
          ],
          [
            -0.14378399999999997,
            0.11979600000000003
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          2.0,
          6.0,
          1.0,
          4.0,
          2.0,
          5.0,
          2.0,
          4.0,
          2.0,
          1.0,
          2.0,
          0.0
        ],
        "w_best": [
          -0.14378399999999997,
          0.11979600000000003
        ],
        "b_best": 0.0,
        "error_best": 0
      },
      {
        "pesos": [
          [
            0.0047576,
            0.007319
          ],
          [
            -0.0052022,
            0.0033226
          ],
          [
            -0.00044459999999999986,
            0.010641600000000001
          ],
          [
            -0.005859,
            0.005417000000000002
          ]
        ],
        "sesgos": [
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "errores": [
          6.0,
          2.0,
          5.0,
          0.0
        ],
        "w_best": [
          -0.005859,
          0.005417000000000002
        ],
        "b_best": 0.0,
        "error_best": 0
      }
    ]
  }
};

// AGREGA ESTO:
const puntos = {
    "Dataset1": {
        X: [
            [1.1946,3.9502],[0.8788,1.6595],[1.1907,1.6117],[1.4180,3.8272],[0.2032,1.9208],
            [2.7571,1.9931],[4.7125,2.8166],[3.9392,1.1032],[1.2072,0.6123],[3.4799,1.9982],[0.4763,0.1020]
        ],
        y: [1,1,1,1,1,-1,-1,-1,-1,-1,-1]
    },
    "Dataset2": {
        X: [
            [1.1946,5.9502],[0.8788,3.6595],[1.1907,3.6117],[1.4180,5.8272],[0.2032,3.9208],
            [2.7571,3.9931],[4.7125,4.8166],[3.9392,3.1032],[1.2072,2.6123],[3.4799,3.9982],[0.4763,2.1020]
        ],
        y: [1,1,1,1,1,-1,-1,-1,-1,-1,-1]
    },
    "Dataset3": {
        X: [
            [2.6946,6.9502],[2.3788,4.6595],[2.6907,4.6117],[2.9180,6.8272],[1.7032,4.9208],
            [4.2571,4.9931],[6.2125,5.8166],[5.4392,4.1032],[2.7072,3.6123],[4.9799,4.9982],[1.9763,3.1020]
        ],
        y: [1,1,1,1,1,-1,-1,-1,-1,-1,-1]
    },
    "Dataset4": {
        X: [
            [2.6946,5.9502],[2.3788,3.6595],[2.6907,3.6117],[2.9180,5.8272],[1.7032,3.9208],
            [4.2571,1.9931],[6.2125,1.8166],[5.4392,0.1032],[2.7072,2.6123],[4.9799,1.9982],[1.9763,2.1020]
        ],
        y: [1,1,1,1,1,-1,-1,-1,-1,-1,-1]
    }
};
// ...resto del código...
// =================== RESTO DEL SCRIPT ===================
(function() {
  const tabButtons = document.getElementById('tabButtons');
  const tabContents = document.getElementById('tabContents');
  let first = true;
  for (const dname in datasets) {
    const btn = document.createElement('button');
    btn.className = 'tablinks';
    btn.textContent = dname.replace('Dataset', 'Dataset ');
    btn.onclick = (evt) => openDataset(evt, dname);
    tabButtons.appendChild(btn);

    const div = document.createElement('div');
    div.id = dname;
    div.className = 'tabcontent';
    div.innerHTML = `
      <h2>${dname.replace('Dataset', 'Dataset ')}</h2>
      <div class="controls">
        <label>Learning rate:
          <select id="lr_${dname}"></select>
        </label>
        <label>
          <input type="checkbox" id="sesgo_${dname}" checked> Usar sesgo
        </label>
        <label>
          Actualización: <input type="range" id="slider_${dname}" min="0" value="0" step="1">
          <span id="iter_${dname}">0</span>
        </label>
        <label>Vector w:
          <select id="wmode_${dname}">
            <option value="normal">Normal a la recta</option>
            <option value="origen">Desde el origen</option>
          </select>
        </label>
        <button onclick="showBest('${dname}')">Mostrar Mejor Peso</button>
      </div>
      <div id="plot_${dname}" class="plot-container"></div>
      <div id="info_${dname}"></div>
    `;
    tabContents.appendChild(div);

    if (first) {
      btn.className += " active";
      div.style.display = "block";
      first = false;
    }
  }

  for (const dname in datasets) {
    const lrs = datasets[dname].con.length;
    const lrSelect = document.getElementById(`lr_${dname}`);
    ["0.1", "0.01", "0.001"].forEach((lr, idx) => {
      const opt = document.createElement('option');
      opt.value = idx;
      opt.textContent = lr;
      lrSelect.appendChild(opt);
    });
    lrSelect.onchange = () => updatePlot(dname);

    document.getElementById(`sesgo_${dname}`).onchange = () => updatePlot(dname);
    document.getElementById(`slider_${dname}`).oninput = function() {
      document.getElementById(`iter_${dname}`).textContent = this.value;
      updatePlot(dname);
    };
    document.getElementById(`wmode_${dname}`).onchange = () => updatePlot(dname);
  }

  window.openDataset = function(evt, datasetName) {
    let tabcontent = document.getElementsByClassName("tabcontent");
    for (let i=0; i<tabcontent.length; i++) { tabcontent[i].style.display = "none"; }
    let tablinks = document.getElementsByClassName("tablinks");
    for (let i=0; i<tablinks.length; i++) { tablinks[i].className = tablinks[i].className.replace(" active", ""); }
    document.getElementById(datasetName).style.display = "block";
    evt.currentTarget.className += " active";
    updatePlot(datasetName);
  };

    window.updatePlot = function(datasetName, showBestFlag=false) {
    const data = datasets[datasetName];
    const lrIdx = document.getElementById(`lr_${datasetName}`).value;
    const usarSesgo = document.getElementById(`sesgo_${datasetName}`).checked;
    const biasKey = usarSesgo ? "con" : "sin";
    const results = data[biasKey][lrIdx];

    const X = puntos[datasetName].X;
    const y = puntos[datasetName].y;

    const slider = document.getElementById(`slider_${datasetName}`);
    slider.max = results.pesos.length - 1;
    let iter = Math.min(parseInt(slider.value), results.pesos.length - 1);
    slider.value = iter;
    document.getElementById(`iter_${datasetName}`).textContent = iter;

    let traces = [];
    const puntosPos = X.filter((_,i) => y[i]===1);
    const puntosNeg = X.filter((_,i) => y[i]===-1);

    traces.push({
      x: puntosPos.map(p=>p[0]),
      y: puntosPos.map(p=>p[1]),
      mode: "markers",
      marker: {color: "blue", size: 12, line: {width:1, color:'#222'}},
      name: "Clase +1"
    });
    traces.push({
      x: puntosNeg.map(p=>p[0]),
      y: puntosNeg.map(p=>p[1]),
      mode: "markers",
      marker: {color: "red", size: 12, line: {width:1, color:'#222'}},
      name: "Clase -1"
    });

    const w = results.pesos[iter];
    const b = results.sesgos[iter];

    // Hiperplano largo: calcula intersección con los bordes del gráfico
    const xRange = [-2, 8];
    const yRange = [-2, 8];
    let hpPoints = [];

    // Si w[1] != 0, calcula para x en los extremos
    if (Math.abs(w[1]) > 1e-8) {
      let y1 = (-w[0]*xRange[0] - b)/w[1];
      let y2 = (-w[0]*xRange[1] - b)/w[1];
      hpPoints.push({x: xRange[0], y: y1});
      hpPoints.push({x: xRange[1], y: y2});
    }
    // Si w[0] != 0, calcula para y en los extremos
    if (Math.abs(w[0]) > 1e-8) {
      let x1 = (-w[1]*yRange[0] - b)/w[0];
      let x2 = (-w[1]*yRange[1] - b)/w[0];
      hpPoints.push({x: x1, y: yRange[0]});
      hpPoints.push({x: x2, y: yRange[1]});
    }
    // Filtra puntos dentro del rango visible
    hpPoints = hpPoints.filter(pt => 
      pt.x >= xRange[0]-2 && pt.x <= xRange[1]+2 && pt.y >= yRange[0]-2 && pt.y <= yRange[1]+2
    );
    // Elimina duplicados
    const unique = {};
    hpPoints.forEach(pt => unique[pt.x.toFixed(6)+'_'+pt.y.toFixed(6)] = pt);
    hpPoints = Object.values(unique);
    // Si hay más de 2 puntos, toma los extremos
    if (hpPoints.length > 2) {
      hpPoints.sort((a,b) => a.x-b.x);
      hpPoints = [hpPoints[0], hpPoints[hpPoints.length-1]];
    }

    if (hpPoints.length === 2) {
      traces.push({
        x: [hpPoints[0].x, hpPoints[1].x],
        y: [hpPoints[0].y, hpPoints[1].y],
        mode: "lines",
        line: {color:"black", dash:"dash", width:3},
        name: "Hiperplano"
      });
    }

    // Dibuja el vector w desde el centro del hiperplano (no desde el centro del gráfico)
    // El vector w es ortogonal al hiperplano, así que lo dibujamos desde el punto medio del hiperplano
  if (hpPoints.length === 2 && (Math.abs(w[0]) > 1e-8 || Math.abs(w[1]) > 1e-8)) {
    const w_norm = Math.sqrt(w[0]*w[0] + w[1]*w[1]);
    const scale = 2.5;
    // Selector de modo
    let wmode = "normal";
    const wmodeSel = document.getElementById(`wmode_${datasetName}`);
    if (wmodeSel) wmode = wmodeSel.value;
    let wx0, wy0;
    if (wmode === "origen") {
      wx0 = 0;
      wy0 = 0;
    } else {
      wx0 = (hpPoints[0].x + hpPoints[1].x) / 2;
      wy0 = (hpPoints[0].y + hpPoints[1].y) / 2;
    }
    traces.push({
      x: [wx0, wx0 + w[0]/w_norm*scale],
      y: [wy0, wy0 + w[1]/w_norm*scale],
      mode: "lines+markers",
      marker: {color: "#2d3a6b", size: 10},
      line: {color: "#2d3a6b", width: 5},
      name: "Vector w"
  });
}

    if(showBestFlag){
      const w_best = results.w_best;
      const b_best = results.b_best;
      let hpBest = [];
      if (Math.abs(w_best[1]) > 1e-8) {
        let y1 = (-w_best[0]*xRange[0] - b_best)/w_best[1];
        let y2 = (-w_best[0]*xRange[1] - b_best)/w_best[1];
        hpBest.push({x: xRange[0], y: y1});
        hpBest.push({x: xRange[1], y: y2});
      }
      if (Math.abs(w_best[0]) > 1e-8) {
        let x1 = (-w_best[1]*yRange[0] - b_best)/w_best[0];
        let x2 = (-w_best[1]*yRange[1] - b_best)/w_best[0];
        hpBest.push({x: x1, y: yRange[0]});
        hpBest.push({x: x2, y: yRange[1]});
      }
      hpBest = hpBest.filter(pt => 
        pt.x >= xRange[0]-2 && pt.x <= xRange[1]+2 && pt.y >= yRange[0]-2 && pt.y <= yRange[1]+2
      );
      const uniqBest = {};
      hpBest.forEach(pt => uniqBest[pt.x.toFixed(6)+'_'+pt.y.toFixed(6)] = pt);
      hpBest = Object.values(uniqBest);
      if (hpBest.length > 2) {
        hpBest.sort((a,b) => a.x-b.x);
        hpBest = [hpBest[0], hpBest[hpBest.length-1]];
      }
      if (hpBest.length === 2) {
        traces.push({
          x: [hpBest[0].x, hpBest[1].x],
          y: [hpBest[0].y, hpBest[1].y],
          mode: "lines",
          line: {color:"orange", dash:"dot", width:5},
          name: "Hiperplano mejor w"
        });
      }
    }

    // Ejes X e Y
    traces.push({
      x: [xRange[0], xRange[1]],
      y: [0, 0],
      mode: "lines",
      line: {color: "#888", width: 2, dash: "dot"},
      name: "Eje X",
      hoverinfo: "skip",
      showlegend: false
    });
    traces.push({
      x: [0, 0],
      y: [yRange[0], yRange[1]],
      mode: "lines",
      line: {color: "#888", width: 2, dash: "dot"},
      name: "Eje Y",
      hoverinfo: "skip",
      showlegend: false
    });

    Plotly.newPlot(`plot_${datasetName}`, traces, {
      xaxis: {
        range: xRange,
        zeroline: false,
        gridcolor: '#dbe3fa',
        title: {text: "x₁", font: {size: 18, color: "#2d3a6b"}}
      },
      yaxis: {
        range: yRange,
        zeroline: false,
        gridcolor: '#dbe3fa',
        title: {text: "x₂", font: {size: 18, color: "#2d3a6b"}}
      },
      width:700, height:600,
      margin: {l: 60, r: 20, t: 40, b: 60},
      plot_bgcolor: "#f7f9ff",
      paper_bgcolor: "#f7f9ff",
      title: {text: datasetName, font: {color: "#2d3a6b", size: 22}},
      legend: {orientation: "h", x: 0.5, xanchor: "center", y: -0.13}
    });

    // Mostrar información y advertencia si no se logra error 0
    let infoHtml = `
      <b>Actualización:</b> ${iter}<br>
      <b>w:</b> [${w.map(v=>v.toFixed(3))}]<br>
      <b>b:</b> ${b.toFixed(3)}<br>
      <b>Fórmula:</b> ${w[0].toFixed(3)}*x₁ + ${w[1].toFixed(3)}*x₂ + ${b.toFixed(3)} = 0<br>
    `;
    if (results.error_best !== 0) {
      infoHtml += `<span style="color:red;"><b>Advertencia:</b> No se logró separar perfectamente el dataset.<br>
      Mejor error alcanzado: <b>${results.error_best}</b></span>`;
    }
    document.getElementById(`info_${datasetName}`).innerHTML = infoHtml;
  };

  window.showBest = function(datasetName){
    updatePlot(datasetName,true);
  };

  // Agrega botón de pestaña para el playground
const playgroundBtn = document.createElement('button');
playgroundBtn.className = 'tablinks';
playgroundBtn.textContent = 'Jugar';
playgroundBtn.onclick = (evt) => openPlayground(evt);
tabButtons.appendChild(playgroundBtn);

// Función para abrir la pestaña de juego
function openPlayground(evt) {
  // Oculta todas las tabcontent
  let tabcontent = document.getElementsByClassName("tabcontent");
  for (let i=0; i<tabcontent.length; i++) { tabcontent[i].style.display = "none"; }
  let tablinks = document.getElementsByClassName("tablinks");
  for (let i=0; i<tablinks.length; i++) { tablinks[i].className = tablinks[i].className.replace(" active", ""); }
  document.getElementById("playgroundTab").style.display = "block";
  evt.currentTarget.className += " active";
  updatePlayground();
}

// Playground: muestra puntos de Dataset1 y permite mover w1, w2, b
function updatePlayground() {
  const w1 = parseFloat(document.getElementById('play_w1').value);
  const w2 = parseFloat(document.getElementById('play_w2').value);
  const b = parseFloat(document.getElementById('play_b').value);
  document.getElementById('play_values').innerHTML = 
    `<b>w:</b> [${w1.toFixed(2)}, ${w2.toFixed(2)}] <b>b:</b> ${b.toFixed(2)}`;

  // Usa los puntos de Dataset1
  const dataset = document.getElementById('play_dataset').value;
  const X = puntos[dataset].X;
  const y = puntos[dataset].y;
  const puntosPos = X.filter((_,i) => y[i]===1);
  const puntosNeg = X.filter((_,i) => y[i]===-1);

  let traces = [
    {
      x: puntosPos.map(p=>p[0]),
      y: puntosPos.map(p=>p[1]),
      mode: "markers",
      marker: {color: "blue", size: 12, line: {width:1, color:'#222'}},
      name: "Clase +1"
    },
    {
      x: puntosNeg.map(p=>p[0]),
      y: puntosNeg.map(p=>p[1]),
      mode: "markers",
      marker: {color: "red", size: 12, line: {width:1, color:'#222'}},
      name: "Clase -1"
    }
  ];

  // Hiperplano largo
  const xRange = [-2, 8];
  const yRange = [-2, 8];
  let hpPoints = [];
  if (Math.abs(w2) > 1e-8) {
    let y1 = (-w1*xRange[0] - b)/w2;
    let y2 = (-w1*xRange[1] - b)/w2;
    hpPoints.push({x: xRange[0], y: y1});
    hpPoints.push({x: xRange[1], y: y2});
  }
  if (Math.abs(w1) > 1e-8) {
    let x1 = (-w2*yRange[0] - b)/w1;
    let x2 = (-w2*yRange[1] - b)/w1;
    hpPoints.push({x: x1, y: yRange[0]});
    hpPoints.push({x: x2, y: yRange[1]});
  }
  hpPoints = hpPoints.filter(pt => 
    pt.x >= xRange[0]-2 && pt.x <= xRange[1]+2 && pt.y >= yRange[0]-2 && pt.y <= yRange[1]+2
  );
  const unique = {};
  hpPoints.forEach(pt => unique[pt.x.toFixed(6)+'_'+pt.y.toFixed(6)] = pt);
  hpPoints = Object.values(unique);
  if (hpPoints.length > 2) {
    hpPoints.sort((a,b) => a.x-b.x);
    hpPoints = [hpPoints[0], hpPoints[hpPoints.length-1]];
  }
  if (hpPoints.length === 2) {
  traces.push({
    x: [hpPoints[0].x, hpPoints[1].x],
    y: [hpPoints[0].y, hpPoints[1].y],
    mode: "lines",
    line: {color:"black", dash:"dash", width:3},
    name: "Hiperplano"
  });

  // Vector w: modo según selección
  const w_norm = Math.sqrt(w1*w1 + w2*w2);
  const scale = 2.5;
  const wmode = document.getElementById('play_wmode').value;
  let wx0, wy0;
  if (wmode === "origen") {
    wx0 = 0;
    wy0 = 0;
  } else {
    // normal a la recta: desde el punto medio del hiperplano
    wx0 = (hpPoints[0].x + hpPoints[1].x) / 2;
    wy0 = (hpPoints[0].y + hpPoints[1].y) / 2;
  }
  traces.push({
    x: [wx0, wx0 + w1/w_norm*scale],
    y: [wy0, wy0 + w2/w_norm*scale],
    mode: "lines+markers",
    marker: {color: "#2d3a6b", size: 10},
    line: {color: "#2d3a6b", width: 5},
    name: "Vector w"
  });
}
  // Ejes X e Y
  traces.push({
    x: [xRange[0], xRange[1]],
    y: [0, 0],
    mode: "lines",
    line: {color: "#888", width: 2, dash: "dot"},
    name: "Eje X",
    hoverinfo: "skip",
    showlegend: false
  });
  traces.push({
    x: [0, 0],
    y: [yRange[0], yRange[1]],
    mode: "lines",
    line: {color: "#888", width: 2, dash: "dot"},
    name: "Eje Y",
    hoverinfo: "skip",
    showlegend: false
  });

  Plotly.newPlot("play_plot", traces, {
    xaxis: {
      range: xRange,
      zeroline: false,
      gridcolor: '#dbe3fa',
      title: {text: "x₁", font: {size: 18, color: "#2d3a6b"}}
    },
    yaxis: {
      range: yRange,
      zeroline: false,
      gridcolor: '#dbe3fa',
      title: {text: "x₂", font: {size: 18, color: "#2d3a6b"}}
    },
    width:700, height:600,
    margin: {l: 60, r: 20, t: 40, b: 60},
    plot_bgcolor: "#f7f9ff",
    paper_bgcolor: "#f7f9ff",
    title: {text: "Jugar con el hiperplano", font: {color: "#2d3a6b", size: 22}},
    legend: {orientation: "h", x: 0.5, xanchor: "center", y: -0.13}
  });
}

// Listeners para sliders del playground
["play_w1","play_w2","play_b"].forEach(id => {
  document.getElementById(id).oninput = updatePlayground;
});
document.getElementById('play_dataset').onchange = updatePlayground;

document.getElementById('play_wmode').onchange = updatePlayground;

// Activa la primera pestaña por defecto
document.getElementsByClassName("tablinks")[0].click();

})(); // Cierra la función autoejecutable
</script>

</body>
</html>
